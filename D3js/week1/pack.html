<html><head>
        <meta charset="utf-8">  
        <title>Pack</title>  
  <style>
</style></head> 


<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>
	var width  = 500;
	var height = 500;
	
	var pack = d3.layout.pack()
	    			.size([ width, height ])
	    			.radius(20);
	
	var svg = d3.select("body").append("svg")
	    .attr("width", width)
	    .attr("height", height)
	    .append("g")
	    .attr("transform", "translate(0,0)");
	
	
	d3.json("city2.json", function(error, root) {
		
		var nodes = pack.nodes(root);
		var links = pack.links(nodes);
		
		console.log(nodes);
		console.log(links);
		
		svg.selectAll("circle")
			.data(nodes)
			.enter()
			.append("circle")
			.attr("fill","rgb(31, 119, 180)")
			.attr("fill-opacity","0.4")
			.attr("cx",function(d){
				return d.x;
			})
			.attr("cy",function(d){
				return d.y;
			})
			.attr("r",function(d){
				return d.r;
			})
			.on("mouseover",function(d,i){
				d3.select(this)
					.attr("fill","yellow");
			})
			.on("mouseout",function(d,i){
				d3.select(this)
					.attr("fill","rgb(31, 119, 180)");
			});
		
		svg.selectAll("text")
					  .data(nodes)
					  .enter()
					  .append("text")
					  .attr("font-size","10px")
					  .attr("fill","white")
					  .attr("fill-opacity",function(d){
						  if(d.depth == 2)
							  return "0.9";
						  else
							  return "0";
					  })
					  .attr("x",function(d){ return d.x; })
					  .attr("y",function(d){ return d.y; })
					  .attr("dx",-12)
					  .attr("dy",1)
					  .text(function(d){ return d.name; });
		
	});

</script><svg width="500" height="500"><g transform="translate(0,0)"><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="250" cy="250" r="245.1911099407215"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="306.5721753656896" cy="297.7712986143216" r="54.64101615137755"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="296.5721753656896" cy="315.0918066900104" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="336.5721753656896" cy="315.0918066900104" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="316.5721753656896" cy="280.4507905386328" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="276.5721753656896" cy="280.4507905386328" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="210.51018954173497" cy="410.89681393386877" r="54.64101615137755"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="200.51018954173497" cy="428.21732200955756" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="240.51018954173497" cy="428.21732200955756" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="220.51018954173497" cy="393.57630585818" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="180.51018954173497" cy="393.57630585818" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="254.48539619561112" cy="201.70085560551746" r="54.64101615137755"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="244.48539619561112" cy="219.02136368120622" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="284.4853961956111" cy="219.02136368120622" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="264.4853961956111" cy="184.3803475298287" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="224.48539619561112" cy="184.3803475298287" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="145.55598186439045" cy="192.92900986601293" r="54.64101615137755"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="135.55598186439045" cy="210.2495179417017" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="175.55598186439045" cy="210.2495179417017" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="155.55598186439045" cy="175.60850179032417" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="115.55598186439045" cy="175.60850179032417" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="78.76739465928324" cy="279.4266815304352" r="54.64101615137755"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="68.76739465928324" cy="296.747189606124" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="108.76739465928324" cy="296.747189606124" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="88.76739465928324" cy="262.1061734547464" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="48.76739465928324" cy="262.1061734547464" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="116.73234946005928" cy="373.1260669388745" r="46.457513110645905"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="96.73234946005928" cy="390.4465750145633" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="136.73234946005928" cy="390.4465750145633" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="116.73234946005928" cy="355.8055588631857" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="191.93115921431206" cy="297.7712986143216" r="60"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="191.93115921431206" cy="297.7712986143216" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="231.93115921431206" cy="297.7712986143216" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="211.93115921431206" cy="263.1302824629441" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="171.93115921431206" cy="263.1302824629441" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="151.93115921431206" cy="297.7712986143216" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="171.93115921431206" cy="332.41231476569914" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="325.1512056931125" cy="410.89681393386877" r="60"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="325.1512056931125" cy="410.89681393386877" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="365.1512056931125" cy="410.89681393386877" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="345.1512056931125" cy="376.25579778249124" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="305.1512056931125" cy="376.25579778249124" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="285.1512056931125" cy="410.89681393386877" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="305.1512056931125" cy="445.5378300852463" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="415.87362149209434" cy="332.35101028022564" r="60"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="415.87362149209434" cy="332.35101028022564" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="455.87362149209434" cy="332.35101028022564" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="435.87362149209434" cy="297.7099941288481" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="395.87362149209434" cy="297.7099941288481" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="375.87362149209434" cy="332.35101028022564" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="395.87362149209434" cy="366.99202643160316" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="382.664006431752" cy="231.20594828881042" r="46.457513110645905"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="362.664006431752" cy="248.52645636449918" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="402.664006431752" cy="248.52645636449918" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="382.664006431752" cy="213.88544021312165" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="345.1720176228149" cy="131.56884238516685" r="60"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="345.1720176228149" cy="131.56884238516685" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="385.1720176228149" cy="131.56884238516685" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="365.1720176228149" cy="96.9278262337893" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="325.1720176228149" cy="96.9278262337893" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="305.1720176228149" cy="131.56884238516685" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="325.1720176228149" cy="166.2098585365444" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="232.9371387598093" cy="89.10318606613123" r="60"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="232.9371387598093" cy="89.10318606613123" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="272.9371387598093" cy="89.10318606613123" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="252.9371387598093" cy="54.46216991475369" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="212.9371387598093" cy="54.46216991475369" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="192.9371387598093" cy="89.10318606613123" r="20"></circle><circle fill="rgb(31, 119, 180)" fill-opacity="0.4" cx="212.9371387598093" cy="123.74420221750877" r="20"></circle><text font-size="10px" fill="white" fill-opacity="0" x="250" y="250" dx="-12" dy="1">中国</text><text font-size="10px" fill="white" fill-opacity="0" x="306.5721753656896" y="297.7712986143216" dx="-12" dy="1">浙江</text><text font-size="10px" fill="white" fill-opacity="0.9" x="296.5721753656896" y="315.0918066900104" dx="-12" dy="1">杭州</text><text font-size="10px" fill="white" fill-opacity="0.9" x="336.5721753656896" y="315.0918066900104" dx="-12" dy="1">宁波</text><text font-size="10px" fill="white" fill-opacity="0.9" x="316.5721753656896" y="280.4507905386328" dx="-12" dy="1">温州</text><text font-size="10px" fill="white" fill-opacity="0.9" x="276.5721753656896" y="280.4507905386328" dx="-12" dy="1">绍兴</text><text font-size="10px" fill="white" fill-opacity="0" x="210.51018954173497" y="410.89681393386877" dx="-12" dy="1">广西</text><text font-size="10px" fill="white" fill-opacity="0.9" x="200.51018954173497" y="428.21732200955756" dx="-12" dy="1">桂林</text><text font-size="10px" fill="white" fill-opacity="0.9" x="240.51018954173497" y="428.21732200955756" dx="-12" dy="1">南宁</text><text font-size="10px" fill="white" fill-opacity="0.9" x="220.51018954173497" y="393.57630585818" dx="-12" dy="1">柳州</text><text font-size="10px" fill="white" fill-opacity="0.9" x="180.51018954173497" y="393.57630585818" dx="-12" dy="1">防城港</text><text font-size="10px" fill="white" fill-opacity="0" x="254.48539619561112" y="201.70085560551746" dx="-12" dy="1">黑龙江</text><text font-size="10px" fill="white" fill-opacity="0.9" x="244.48539619561112" y="219.02136368120622" dx="-12" dy="1">哈尔滨</text><text font-size="10px" fill="white" fill-opacity="0.9" x="284.4853961956111" y="219.02136368120622" dx="-12" dy="1">齐齐哈尔</text><text font-size="10px" fill="white" fill-opacity="0.9" x="264.4853961956111" y="184.3803475298287" dx="-12" dy="1">牡丹江</text><text font-size="10px" fill="white" fill-opacity="0.9" x="224.48539619561112" y="184.3803475298287" dx="-12" dy="1">大庆</text><text font-size="10px" fill="white" fill-opacity="0" x="145.55598186439045" y="192.92900986601293" dx="-12" dy="1">新疆</text><text font-size="10px" fill="white" fill-opacity="0.9" x="135.55598186439045" y="210.2495179417017" dx="-12" dy="1">乌鲁木齐</text><text font-size="10px" fill="white" fill-opacity="0.9" x="175.55598186439045" y="210.2495179417017" dx="-12" dy="1">克拉玛依</text><text font-size="10px" fill="white" fill-opacity="0.9" x="155.55598186439045" y="175.60850179032417" dx="-12" dy="1">吐鲁番</text><text font-size="10px" fill="white" fill-opacity="0.9" x="115.55598186439045" y="175.60850179032417" dx="-12" dy="1">哈密</text><text font-size="10px" fill="white" fill-opacity="0" x="78.76739465928324" y="279.4266815304352" dx="-12" dy="1">河北</text><text font-size="10px" fill="white" fill-opacity="0.9" x="68.76739465928324" y="296.747189606124" dx="-12" dy="1">石家庄</text><text font-size="10px" fill="white" fill-opacity="0.9" x="108.76739465928324" y="296.747189606124" dx="-12" dy="1">唐山</text><text font-size="10px" fill="white" fill-opacity="0.9" x="88.76739465928324" y="262.1061734547464" dx="-12" dy="1">邯郸</text><text font-size="10px" fill="white" fill-opacity="0.9" x="48.76739465928324" y="262.1061734547464" dx="-12" dy="1">秦皇岛</text><text font-size="10px" fill="white" fill-opacity="0" x="116.73234946005928" y="373.1260669388745" dx="-12" dy="1">西藏</text><text font-size="10px" fill="white" fill-opacity="0.9" x="96.73234946005928" y="390.4465750145633" dx="-12" dy="1">拉萨</text><text font-size="10px" fill="white" fill-opacity="0.9" x="136.73234946005928" y="390.4465750145633" dx="-12" dy="1">昌都</text><text font-size="10px" fill="white" fill-opacity="0.9" x="116.73234946005928" y="355.8055588631857" dx="-12" dy="1">林芝</text><text font-size="10px" fill="white" fill-opacity="0" x="191.93115921431206" y="297.7712986143216" dx="-12" dy="1">江苏</text><text font-size="10px" fill="white" fill-opacity="0.9" x="191.93115921431206" y="297.7712986143216" dx="-12" dy="1">南京</text><text font-size="10px" fill="white" fill-opacity="0.9" x="231.93115921431206" y="297.7712986143216" dx="-12" dy="1">无锡</text><text font-size="10px" fill="white" fill-opacity="0.9" x="211.93115921431206" y="263.1302824629441" dx="-12" dy="1">徐州</text><text font-size="10px" fill="white" fill-opacity="0.9" x="171.93115921431206" y="263.1302824629441" dx="-12" dy="1">常州</text><text font-size="10px" fill="white" fill-opacity="0.9" x="151.93115921431206" y="297.7712986143216" dx="-12" dy="1">连云港</text><text font-size="10px" fill="white" fill-opacity="0.9" x="171.93115921431206" y="332.41231476569914" dx="-12" dy="1">淮安</text><text font-size="10px" fill="white" fill-opacity="0" x="325.1512056931125" y="410.89681393386877" dx="-12" dy="1">江苏</text><text font-size="10px" fill="white" fill-opacity="0.9" x="325.1512056931125" y="410.89681393386877" dx="-12" dy="1">南京</text><text font-size="10px" fill="white" fill-opacity="0.9" x="365.1512056931125" y="410.89681393386877" dx="-12" dy="1">无锡</text><text font-size="10px" fill="white" fill-opacity="0.9" x="345.1512056931125" y="376.25579778249124" dx="-12" dy="1">徐州</text><text font-size="10px" fill="white" fill-opacity="0.9" x="305.1512056931125" y="376.25579778249124" dx="-12" dy="1">常州</text><text font-size="10px" fill="white" fill-opacity="0.9" x="285.1512056931125" y="410.89681393386877" dx="-12" dy="1">连云港</text><text font-size="10px" fill="white" fill-opacity="0.9" x="305.1512056931125" y="445.5378300852463" dx="-12" dy="1">淮安</text><text font-size="10px" fill="white" fill-opacity="0" x="415.87362149209434" y="332.35101028022564" dx="-12" dy="1">湖南</text><text font-size="10px" fill="white" fill-opacity="0.9" x="415.87362149209434" y="332.35101028022564" dx="-12" dy="1">长沙</text><text font-size="10px" fill="white" fill-opacity="0.9" x="455.87362149209434" y="332.35101028022564" dx="-12" dy="1">株洲</text><text font-size="10px" fill="white" fill-opacity="0.9" x="435.87362149209434" y="297.7099941288481" dx="-12" dy="1">湘潭</text><text font-size="10px" fill="white" fill-opacity="0.9" x="395.87362149209434" y="297.7099941288481" dx="-12" dy="1">衡阳</text><text font-size="10px" fill="white" fill-opacity="0.9" x="375.87362149209434" y="332.35101028022564" dx="-12" dy="1">邵阳</text><text font-size="10px" fill="white" fill-opacity="0.9" x="395.87362149209434" y="366.99202643160316" dx="-12" dy="1">岳阳</text><text font-size="10px" fill="white" fill-opacity="0" x="382.664006431752" y="231.20594828881042" dx="-12" dy="1">海南</text><text font-size="10px" fill="white" fill-opacity="0.9" x="362.664006431752" y="248.52645636449918" dx="-12" dy="1">海口</text><text font-size="10px" fill="white" fill-opacity="0.9" x="402.664006431752" y="248.52645636449918" dx="-12" dy="1">三亚</text><text font-size="10px" fill="white" fill-opacity="0.9" x="382.664006431752" y="213.88544021312165" dx="-12" dy="1">三沙</text><text font-size="10px" fill="white" fill-opacity="0" x="345.1720176228149" y="131.56884238516685" dx="-12" dy="1">陕西</text><text font-size="10px" fill="white" fill-opacity="0.9" x="345.1720176228149" y="131.56884238516685" dx="-12" dy="1">西安</text><text font-size="10px" fill="white" fill-opacity="0.9" x="385.1720176228149" y="131.56884238516685" dx="-12" dy="1">咸阳</text><text font-size="10px" fill="white" fill-opacity="0.9" x="365.1720176228149" y="96.9278262337893" dx="-12" dy="1">汉中</text><text font-size="10px" fill="white" fill-opacity="0.9" x="325.1720176228149" y="96.9278262337893" dx="-12" dy="1">安康</text><text font-size="10px" fill="white" fill-opacity="0.9" x="305.1720176228149" y="131.56884238516685" dx="-12" dy="1">榆林</text><text font-size="10px" fill="white" fill-opacity="0.9" x="325.1720176228149" y="166.2098585365444" dx="-12" dy="1">延安</text><text font-size="10px" fill="white" fill-opacity="0" x="232.9371387598093" y="89.10318606613123" dx="-12" dy="1">甘肃</text><text font-size="10px" fill="white" fill-opacity="0.9" x="232.9371387598093" y="89.10318606613123" dx="-12" dy="1">兰州</text><text font-size="10px" fill="white" fill-opacity="0.9" x="272.9371387598093" y="89.10318606613123" dx="-12" dy="1">酒泉</text><text font-size="10px" fill="white" fill-opacity="0.9" x="252.9371387598093" y="54.46216991475369" dx="-12" dy="1">金昌</text><text font-size="10px" fill="white" fill-opacity="0.9" x="212.9371387598093" y="54.46216991475369" dx="-12" dy="1">天水</text><text font-size="10px" fill="white" fill-opacity="0.9" x="192.9371387598093" y="89.10318606613123" dx="-12" dy="1">嘉峪关</text><text font-size="10px" fill="white" fill-opacity="0.9" x="212.9371387598093" y="123.74420221750877" dx="-12" dy="1">武威</text></g></svg>
	
  
  
</body></html>